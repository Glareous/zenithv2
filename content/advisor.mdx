import { Callout, Steps, Tabs, FileTree } from 'nextra/components'

# ğŸ¤– Digital Advisor Module

<Callout type="info" emoji="â„¹ï¸">
  **AI-Powered Advisory System** - Get instant personalized guidance and support from your intelligent digital advisor through direct chat communication.
</Callout>

<br />
## What is Digital Advisor?
<br />
The **Digital Advisor** module is an AI-powered advisory system that provides personalized guidance, recommendations, and support directly to users through an intelligent chat interface.

<br />

### Key Advisory Features

<div className="grid grid-cols-1 md:grid-cols-3 gap-4 my-6">
  <div className="card card-body">
    <h4 className="text-lg font-semibold mb-2">ğŸ’¬ Direct Chat</h4>
    <p className="text-sm text-gray-600 dark:text-gray-400">
      One-on-one communication with your digital advisor
    </p>
  </div>
  <div className="card card-body">
    <h4 className="text-lg font-semibold mb-2">ğŸ§  AI Intelligence</h4>
    <p className="text-sm text-gray-600 dark:text-gray-400">
      Smart responses powered by advanced AI algorithms
    </p>
  </div>
  <div className="card card-body">
    <h4 className="text-lg font-semibold mb-2">âš¡ Real-time Support</h4>
    <p className="text-sm text-gray-600 dark:text-gray-400">
      Instant responses and continuous availability
    </p>
  </div>
</div>

<br />

## âœ¨ Key Features

<Tabs items={['Chat Interface', 'AI Capabilities', 'User Experience']}>
  <Tabs.Tab>
    ### Seamless Communication
    <br />
    - âœ… Real-time messaging with WebSocket
    - âœ… Message history and persistence
    - âœ… Read/unread status tracking
    - âœ… Typing indicators
    - âœ… User-friendly chat interface
  </Tabs.Tab>
  <Tabs.Tab>
    ### Intelligent Assistance
<br />
    - ğŸ§  Context-aware responses
    - ğŸ¯ Personalized recommendations
    - ğŸ“Š Data-driven insights
    - ğŸ”„ Continuous learning
    - ğŸ’¡ Proactive suggestions

  </Tabs.Tab>
  <Tabs.Tab>
    ### Enhanced Experience
    <br />

    - ğŸ‘¤ Your profile integration
    - ğŸ“± Mobile-responsive design
    - ğŸŒ™ Dark mode support
    - âš¡ Fast response times
    - ğŸ“ Message formatting

  </Tabs.Tab>
</Tabs>

<br />

## ğŸš€ Getting Started

<Steps>

### Navigate to Advisor Chat

Go to the Advisor Chat page from the sidebar menu under **APPS â†’ Advisor Chat**

### Start a Conversation

Click the **"New Chat"** button to create a new conversation with your digital advisor

### Send Your Message

Type your question or request in the message input and press Enter or click Send

### Get Instant Response

Your digital advisor will respond immediately with personalized assistance

### Continue the Conversation

Keep chatting to get more detailed help and guidance on your topics

</Steps>

<br />
## ğŸ“Š Chat Data Structure

```typescript
interface AdvisorChat {
  id: string
  userId: string // Your user ID
  agentId: string // Digital advisor agent
  chatType: 'ADVISOR'
  status: 'ACTIVE' | 'CLOSED' | 'ARCHIVED'
  startedAt: Date
  updatedAt: Date
  metadata: {
    source: 'web-advisor'
  }
}

interface Message {
  id: string
  content: string
  type: 'USER' | 'AGENT'
  mediaType: 'TEXT'
  timestamp: Date
  isRead: boolean
  chatId: string
}
```

<Callout type="warning" emoji="âš ï¸">
  Digital Advisor chats are private and only visible to you. All conversations are encrypted and secure.
</Callout>

<br />

## ğŸ¯ Chat Types Comparison

<div className="card">
  <div className="card-body">
    <div className="overflow-x-auto">
      <table className="table">
        <thead>
          <tr>
            <th>Feature</th>
            <th>Digital Advisor</th>
            <th>Employee Chat</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td className="font-semibold">Communication</td>
            <td>User â†” AI Advisor</td>
            <td>User â†” Employee â†” AI</td>
          </tr>
          <tr>
            <td className="font-semibold">Response Speed</td>
            <td><span className="badge badge-success">Instant</span></td>
            <td><span className="badge badge-info">Varies</span></td>
          </tr>
          <tr>
            <td className="font-semibold">Availability</td>
            <td><span className="badge badge-success">24/7</span></td>
            <td><span className="badge badge-warning">Business Hours</span></td>
          </tr>
          <tr>
            <td className="font-semibold">Use Case</td>
            <td>General guidance, quick help</td>
            <td>Employee-specific support</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<br />

## ğŸ”§ Common Operations

<Tabs items={['Start Chat', 'Send Messages', 'View History', 'Manage Chats']}>
  <Tabs.Tab>
    ### Starting a New Chat
    <br />

    1. Click **"New Chat"** button
    2. Chat is created automatically
    3. Start typing your first message
    4. Advisor will greet you and await your questions

    <Callout type="info">
    Each chat maintains its own conversation history
    </Callout>

  </Tabs.Tab>

  <Tabs.Tab>
    ### Sending Messages
    <br />

    1. Type your message in the input field
    2. Press **Enter** or click **Send** button
    3. Message appears in the chat instantly
    4. Advisor processes and responds
    5. Continue the conversation naturally

    <Callout>
    You can send text messages, ask questions, or request guidance
    </Callout>

  </Tabs.Tab>

<Tabs.Tab>
  ### Viewing Chat History
  <br />
  1. Select a chat from the chat list
  2. All previous messages load automatically
  3. Scroll through conversation history
  4. Messages show timestamps
  5. Your messages on left, advisor on right

  <Callout>
  Chat history is preserved across sessions
  </Callout>
</Tabs.Tab>

  <Tabs.Tab>
    ### Managing Your Chats
    <br />

    1. **Switch Chats**: Click on different chats in the list
    2. **New Conversation**: Start fresh with a new chat
    3. **Review Past Advice**: Access previous conversations
    4. **Track Topics**: Organize chats by subject

    <Callout type="error" emoji="ğŸ’¡">
    Keep related questions in the same chat for better context awareness
    </Callout>

  </Tabs.Tab>
</Tabs>

<br />

## ğŸ” Privacy & Security

<Callout type="info" emoji="ğŸ”’">
  The Digital Advisor module is **user-scoped** for complete privacy.
</Callout>
<br />

### Key Points:

<br />

- âœ… Each chat belongs only to you
- âœ… Conversations are private and encrypted
- âœ… No data sharing with other users
- âœ… Secure WebSocket connections
- âœ… Message history protected

<br />

## ğŸ› ï¸ API Reference

The module uses **tRPC** for type-safe API calls:

```typescript
// Get user's advisor chats
projectChat.getByUserId({
  userId,
  status: 'ACTIVE',
  chatType: 'ADVISOR'
})

// Create a new advisor chat
projectChat.create({
  userId,
  agentId: organization.agentAdvisorId,
  chatType: 'ADVISOR',
  metadata: { source: 'web-advisor' }
})

// Get chat messages
projectMessage.getByChatId({ chatId })

// Send message via WebSocket
socket.emit('send-message', {
  chatId,
  content,
  type: 'USER',
  metadata: {}
})

// Mark messages as read
projectMessage.markAsRead({ chatId })
```

<br />

## âœ… Best Practices

<br />

1. **Be Specific** - Ask clear, detailed questions for better responses
2. **One Topic Per Chat** - Keep conversations focused on single topics
3. **Provide Context** - Give background information when needed
4. **Follow Up** - Ask clarifying questions if responses aren't clear
5. **Use Chat History** - Review previous conversations for reference

<br />

## â“ Troubleshooting

<Callout type="warning">
  ### Messages not sending **Solution**:
  - Check your internet connection
  - Verify WebSocket is connected
  - Refresh the page if needed
  - Ensure chat is active
</Callout>

<Callout type="warning">
  ### No response from advisor **Solution**:
  - Wait a few seconds for processing
  - Check if message was sent successfully
  - Verify advisor agent is configured
  - Try sending message again
</Callout>

<Callout type="warning">
  ### Chat list not updating **Solution**:
  - Refresh the page
  - Check if new chat was created
  - Verify you're logged in
  - Clear browser cache if persistent
</Callout>

<br />

## ğŸ’¡ Tips for Effective Use

<br />

### Getting the Best Advice:

- **Ask Open Questions**: "How can I improve..." instead of yes/no questions
- **Provide Details**: Include relevant information about your situation
- **Be Patient**: Complex questions may need longer responses
- **Iterate**: Refine your questions based on responses
- **Save Important Info**: Take notes from valuable advice

<br />

## ğŸ†˜ Support

<br />
Need help with the Digital Advisor?

- ğŸ‘¨â€ğŸ’¼ Contact your system administrator
- ğŸ“§ Check your organization's help desk
- ğŸ“„ Review this documentation for common issues
- ğŸ”„ Restart the chat if experiencing technical problems

<br />

<Callout type="default" emoji="ğŸ“…">
  *Last updated: {new Date().toLocaleDateString()}*
</Callout>
